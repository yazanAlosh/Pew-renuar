<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>×¡×•×¨×§/×—×™×¤×•×© ×¤×¨×™×˜ + ×¨× ×•××¨</title>
  <style>
    :root{--blue:#007bff;--blue2:#0056b3;--text:#222;--muted:#666;--bg:#ffffff;--card:#fff}
    *{box-sizing:border-box}html,body{margin:0;padding:0}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial;color:var(--text);background:var(--bg);line-height:1.5}
    header{background:linear-gradient(90deg,var(--blue),var(--blue2));color:#fff;text-align:center;padding:16px 20px;box-shadow:0 2px 10px rgba(0,0,0,.12)}
    header h1{margin:6px 0 0;font-size:clamp(18px,2.6vw,26px)}
    .wrap{max-width:980px;margin:18px auto;padding:12px}
    .card{background:var(--card);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.08);padding:clamp(14px,3vw,24px);margin-bottom:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:stretch}
    input[type=text]{flex:1;min-width:230px;padding:12px;border:1px solid #dcdcdc;border-radius:10px;font-size:16px;outline:0;box-shadow:inset 0 2px 4px rgba(0,0,0,.03)}
    input[type=text]:focus{border-color:var(--blue);box-shadow:0 0 0 3px rgba(0,123,255,.12), inset 0 2px 4px rgba(0,0,0,.03)}
    button{background:var(--blue);color:#fff;border:0;border-radius:10px;padding:12px 18px;font-size:16px;font-weight:600;cursor:pointer;box-shadow:0 6px 16px rgba(0,123,255,.35);transition:background .2s,transform .05s}
    button:hover{background:var(--blue2)}button:active{transform:translateY(1px)}
    .ghost{background:#fff;color:var(--blue);border:1px solid #dcdcdc;box-shadow:none}
    .muted{color:var(--muted);font-size:14px;margin-top:6px}
    .ok{color:#118a2c;font-weight:700;margin-top:6px}
    .err{color:#c0392b;font-weight:700;margin-top:6px}
    iframe{width:100%;height:65vh;border:1px solid #eee;border-radius:10px;background:#fff;display:none;margin-top:10px}
  </style>
</head>
<body>
  <header><h1>×¡×•×¨×§/×—×™×¤×•×© ×¤×¨×™×˜ + ×—×™×¤×•×© ×‘××ª×¨ ×¨× ×•××¨</h1></header>

  <main class="wrap">
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« -->
    <section class="card">
      <div class="row">
        <input id="q" type="text" placeholder="×”×›× ×¡ ×©× ×¤×¨×™×˜ ××• ××§×´×˜">
        <button type="button" onclick="checkPrice()">×‘×“×•×§ ××—×™×¨</button>
        <button type="button" class="ghost" onclick="searchRenuar()">×—×¤×© ×‘×¨× ×•××¨</button>
        <button type="button" class="ghost" onclick="openRenuar()">×¤×ª×— ×‘×˜××‘ ×—×“×©</button>
        <button type="button" class="ghost" onclick="clearAll()">× ×§×”</button>
      </div>
      <div id="msg" class="muted">×˜×™×¤: ×œ×—×™×¦×” ×¢×œ Enter ØªÙØ­Øµ Ø§Ù„Ø³Ø¹Ø± ÙˆØªØ¨Ø­Ø« ÙÙŠ ×¨× ×•××¨.</div>
      <div id="priceBox"></div>
    </section>

    <!-- Ù†ØªØ§Ø¦Ø¬ ×¨× ×•××¨ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© -->
    <section class="card">
      <strong>×ª×•×¦××•×ª ×‘××ª×¨ ×¨× ×•××¨ (×‘××¡×’×¨×ª):</strong>
      <iframe id="renFrame" title="×ª×•×¦××•×ª ×—×™×¤×•×© ×¨× ×•××¨"></iframe>
      <div class="muted">×× ×œ× ××•×¤×™×¢ ×‘×ª×•×š ×”××¡×’×¨×ª (×—×¡×™××ª IFRAME) Ø§Ø³ØªØ®Ø¯Ù… "×¤×ª×— ×‘×˜××‘ ×—×“×©".</div>
    </section>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø£Ø³Ø¹Ø§Ø± Ù†Ù…ÙˆØ°Ø¬ÙŠ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø¨Ø­Ø±ÙŠØ© -->
    <section class="card">
      <strong>×˜×‘×œ×ª ××—×™×¨×™× ×œ×“×•×’××” (×—×™×¤×•×© ×œ×¤×™ ×©× ××• ××§×´×˜):</strong>
      <pre class="muted" style="white-space:pre-wrap;margin-top:8px">
SKU: 111   | ×©×: ×—×•×œ×¦×ª ×‘×™×™×¡×™×§ | â‚ª50
SKU: 222   | ×©×: ××›× ×¡ ×’×³×™× ×¡   | â‚ª75
SKU: 333   | ×©×: ×©××œ×ª ×¢×¨×‘     | â‚ª120
SKU: 444   | ×©×: ××¢×™×œ ×—×•×¨×£    | â‚ª200
      </pre>
    </section>
  </main>

  <script>
    // --- ÙƒØªØ§Ù„ÙˆØ¬ Ù…Ø­Ù„ÙŠ Ø¨Ø³ÙŠØ· (Ø¹Ø¯Ù‘Ù„Ù‡ ÙƒÙ…Ø§ ØªØ±ÙŠØ¯) ---
    // Ø§Ø¨Ù‚Ù Ø§Ù„Ø§Ø³Ù… ÙƒÙ…Ø§ ÙÙŠ ×¨× ×•××¨ Ù„ÙŠØ³Ù‡Ù„ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù†Øµ
    const CATALOG = [
      { sku: "111", name: "×—×•×œ×¦×ª ×‘×™×™×¡×™×§", price: "â‚ª50"  },
      { sku: "222", name: "××›× ×¡ ×’×³×™× ×¡",   price: "â‚ª75"  },
      { sku: "333", name: "×©××œ×ª ×¢×¨×‘",     price: "â‚ª120" },
      { sku: "444", name: "××¢×™×œ ×—×•×¨×£",    price: "â‚ª200" }
    ];

    // Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ø¬Ù‡Ø©
    const $ = id => document.getElementById(id);
    const input = $("q"), frame = $("renFrame"), msg = $("msg"), priceBox = $("priceBox");

    function norm(s){ return (s||"").toString().trim(); }
    function safeQuery(){ return norm(input.value).replace(/[^\dA-Za-z\u0590-\u05FF\s'×´×´"×³-]/g,""); } // Ø§Ø±Ù‚Ø§Ù…/Ø­Ø±ÙˆÙ/Ø¹Ø¨Ø±ÙŠØ© ÙˆÙ…Ø³Ø§ÙØ§Øª
    function renuarUrl(q){ return "https://www.renuar.co.il/catalogsearch/result/?q=" + encodeURIComponent(q); }
    function setMsg(cls,text){ msg.className = cls; msg.textContent = text; }

    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬ Ø§Ù„Ù…Ø­Ù„ÙŠ: ÙŠØ·Ø§Ø¨Ù‚ Ø¨Ø§Ù„Ù€ SKU (ØªØ·Ø§Ø¨Ù‚ ØªØ§Ù…) Ø£Ùˆ Ø¨Ø§Ù„Ø§Ø³Ù… (ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù†Øµ)
    function localFind(q){
      const s = norm(q);
      if(!s) return null;
      // Ø£ÙˆÙ„ÙˆÙŠØ©: Ø¥Ø°Ø§ ÙƒÙ„Ù‡ Ø£Ø±Ù‚Ø§Ù… â†’ Ø§Ø¹ØªØ¨Ø±Ù‡ SKU
      if(/^\d+$/.test(s)){
        return CATALOG.find(p => p.sku === s) || null;
      }
      // ØºÙŠØ± Ø°Ù„Ùƒ Ù†Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ø­ØªÙˆØ§Ø¡ Ø§Ù„Ù†Øµ (ØºÙŠØ± Ø­Ø³Ø§Ø³ Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø­Ø±Ù)
      const low = s.toLowerCase();
      return CATALOG.find(p => p.name.toLowerCase().includes(low)) || null;
    }

    // Ø²Ø±: ÙØ­Øµ Ø§Ù„Ø³Ø¹Ø± Ø¯Ø§Ø®Ù„ Ù…ÙˆÙ‚Ø¹ÙŠ
    function checkPrice(){
      const q = safeQuery();
      if(!q){ setMsg("err","× × ×œ×”×–×™×Ÿ ×©× ×¤×¨×™×˜ ××• ××§×´×˜"); priceBox.textContent=""; return; }
      const item = localFind(q);
      if(item){
        priceBox.className="ok";
        priceBox.textContent = ğŸ’° ${item.price} â€” ${item.name} (SKU ${item.sku});
        setMsg("muted","× ××¦× ×‘××—×™×¨×•×Ÿ ×”××§×•××™.");
      }else{
        priceBox.className="err";
        priceBox.textContent = "âŒ ×œ× × ××¦× ×‘××—×™×¨×•×Ÿ ×”××§×•××™";
        setMsg("muted","× ×™×ª×Ÿ ×¢×“×™×™×Ÿ ×œ×—×¤×© ×‘××ª×¨ ×¨× ×•××¨.");
      }
    }

    // Ø²Ø±: Ø§Ù„Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ Ø±× ×•××¨ Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø©
    function searchRenuar(){
      const q = safeQuery();
      if(!q){ setMsg("err","× × ×œ×”×–×™×Ÿ ×©× ×¤×¨×™×˜ ××• ××§×´×˜"); return; }
      frame.src = renuarUrl(q);
      frame.style.display = "block";
      setMsg("muted","×˜×•×¢×Ÿ ×ª×•×¦××•×ª ××¨× ×•××¨â€¦");
    }

    // Ø²Ø±: ÙØªØ­ ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯
    function openRenuar(){
      const q = safeQuery();
      if(!q){ setMsg("err","× × ×œ×”×–×™×Ÿ ×©× ×¤×¨×™×˜ ××• ××§×´×˜"); return; }
      window.open(renuarUrl(q), "_blank", "noopener");
    }

    // Ø²Ø±: Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
    function clearAll(){
      input.value = "";
      frame.removeAttribute("src");
      frame.style.display = "none";
      priceBox.textContent = "";
      setMsg("muted","×˜×™×¤: ×œ×—×™×¦×” ×¢×œ Enter ØªÙØ­Øµ Ø§Ù„Ø³Ø¹Ø± ÙˆØªØ¨Ø­Ø«.");
      input.focus();
    }

    // Enter = ÙØ­Øµ + Ø¨Ø­Ø«
    input.addEventListener("keydown", (e)=>{
      if(e.key === "Enter"){ e.preventDefault(); checkPrice(); searchRenuar(); }
    });
  </script>
</body>
</html>
